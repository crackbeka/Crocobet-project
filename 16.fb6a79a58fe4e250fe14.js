"use strict";(self.webpackChunkcroco_bet_project=self.webpackChunkcroco_bet_project||[]).push([[16],{1016:(j,c,i)=>{i.r(c),i.d(c,{PostsModule:()=>I});var p=i(8583),r=i(191),t=i(639),m=i(6215),l=i(8002),a=i(3342),f=i(9761),v=i(4761),u=i(6575);let g=(()=>{class e{constructor(s,o){this.api=s,this.users=o,this.posts$=new m.X([])}getPosts(){return this.api.get("posts").pipe((0,l.U)(s=>s.map(o=>Object.assign(Object.assign({},o),{user:this.users.findUser(o.userId)}))),(0,a.b)(s=>this.posts$.next(s)))}getPost(s){return this.api.get(`posts/${s}`).pipe((0,f.O)(this.posts$.value.find(({id:o})=>o===s)),(0,l.U)(o=>Object.assign(Object.assign({},o),{user:this.users.findUser(null==o?void 0:o.userId)})))}deletePost(s){return this.api.delete(`posts/${s}`).pipe((0,a.b)(()=>this.posts$.next(this.posts$.value.filter(({id:o})=>o!==s))))}}return e.\u0275fac=function(s){return new(s||e)(t.LFG(v.s),t.LFG(u.f))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function x(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"div",4),t.TgZ(1,"p",5),t.TgZ(2,"span",6),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",7),t.TgZ(5,"button",8),t.NdJ("click",function(){return t.CHM(s),t.oxw(2).deletePost()}),t._uU(6," Delete "),t.qZA(),t.qZA(),t.qZA()}if(2&e){const s=t.oxw(2);t.xp6(3),t.hij("\u{1f64d}\u200d\u2642\ufe0f ",s.post.user.name,"")}}function h(e,n){if(1&e&&(t.TgZ(0,"div"),t.TgZ(1,"p",1),t._uU(2),t.qZA(),t.TgZ(3,"p",2),t._uU(4),t.qZA(),t.YNc(5,x,7,1,"div",3),t.qZA()),2&e){const s=t.oxw();t.xp6(2),t.hij(" ",s.post.title," "),t.xp6(2),t.hij(" ",s.post.body," "),t.xp6(1),t.Q6J("ngIf",s.post.user)}}let P=(()=>{class e{constructor(s){this.posts=s,this.actionsOpen=!1}deletePost(){this.posts.deletePost(this.post.id).subscribe()}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(g))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-post-item"]],inputs:{post:"post"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"text-xl","font-semibold","text-gray-900"],[1,"mt-3","text-base","text-gray-500"],["class","mt-6 flex items-center justify-between",4,"ngIf"],[1,"mt-6","flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-900"],["href","#"],[1,"inline-block","text-left"],["role","menuitem","tabindex","-1","type","button",1,"text-red-700","block","w-full","text-left","rounded","px-4","py-2","text-sm","hover:bg-red-100","hover:text-red-900",3,"click"]],template:function(s,o){1&s&&t.YNc(0,h,6,3,"div",0),2&s&&t.Q6J("ngIf",o.post)},directives:[p.O5],styles:[""],changeDetection:0}),e})();function y(e,n){if(1&e&&(t.ynx(0),t._UZ(1,"app-post-item",5),t.BQk()),2&e){const s=n.$implicit;t.xp6(1),t.Q6J("post",s)}}function Z(e,n){if(1&e&&(t.TgZ(0,"div",3),t.YNc(1,y,2,1,"ng-container",4),t.qZA()),2&e){const s=n.ngIf;t.xp6(1),t.Q6J("ngForOf",s)}}const b=[{path:"",component:(()=>{class e{constructor(s,o,d,T){this.route=s,this.posts=o,this.users=d,this.cdr=T}ngOnInit(){const s=this.route.snapshot.params.userId;this.posts$=s?this.users.getPosts(s):this.posts.getPosts()}}return e.\u0275fac=function(s){return new(s||e)(t.Y36(r.gz),t.Y36(g),t.Y36(u.f),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-posts"]],decls:4,vars:3,consts:[[1,"bg-white","pb-20","px-4","sm:px-6","lg:pt-24","lg:pb-28","lg:px-8"],[1,"relative","max-w-lg","mx-auto","divide-y-2","divide-gray-200","lg:max-w-7xl"],["class","grid gap-16 lg:grid-cols-3 lg:gap-x-5 lg:gap-y-12",4,"ngIf"],[1,"grid","gap-16","lg:grid-cols-3","lg:gap-x-5","lg:gap-y-12"],[4,"ngFor","ngForOf"],[3,"post"]],template:function(s,o){1&s&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,Z,2,1,"div",2),t.ALo(3,"async"),t.qZA(),t.qZA()),2&s&&(t.xp6(2),t.Q6J("ngIf",t.lcZ(3,1,o.posts$)))},directives:[p.O5,p.sg,P],pipes:[p.Ov],styles:[""],changeDetection:0}),e})()}];let C=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),e})(),I=(()=>{class e{}return e.\u0275fac=function(s){return new(s||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[p.ez,C]]}),e})()}}]);